{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Elgratio\\\\Documents\\\\Learning\\\\Front End - Web Dev\\\\Projects\\\\React App Test\\\\my-app\\\\src\\\\components\\\\text-input.js\",\n  _s = $RefreshSig$();\nimport { useRef, useState, useEffect, use } from \"react\";\nimport css from \"./text-input.module.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction TextInput({\n  incomingPreviewText,\n  incomingHandlePreviewTextChanges,\n  incomingHandleVariablesChanges,\n  incomingVariables\n}) {\n  _s();\n  //Tailwind Styles\n\n  //Text Input\n  let tw_textInput_md = \" md:w-[100%] md:p-[10px]\";\n  let tw_textInput_lg = \" lg:w-[50%]\";\n  let tw_textInput_focus = \" \";\n  let tw_textInput_hover = \" hover:shadow-[0_0_30px_rgba(100,100,100,0.35)] hover:text-main-color hover:border hover:border-main-color hover:border-solid\";\n  let incomVarSize = incomingVariables != undefined ? incomingVariables.size : 0;\n  const [tempVariables, setTempVariables] = useState(new Map());\n  function addVariableOnInput(e) {\n    const textInput = e.currentTarget.value;\n    incomingHandlePreviewTextChanges(textInput);\n    // Search for {} in the text\n    if (textInput.includes(\"{}\") || incomVarSize != 0) {\n      let searchPos = 0;\n      let allBracketPositions = [];\n      console.log(\"bracket size before:\" + allBracketPositions.length);\n      while (searchPos < textInput.length) {\n        const bracketPos = textInput.indexOf(\"{}\", searchPos);\n        if (bracketPos === -1) break;\n        allBracketPositions.push(bracketPos + 1);\n        searchPos = bracketPos + 1;\n      }\n      let updatedVariables = new Map(incomingVariables);\n      allBracketPositions.forEach((position, index) => {\n        if (!updatedVariables.has(index)) {\n          updatedVariables.set(index, {\n            id: index,\n            name: \"Variable \" + (index + 1),\n            type: \"Integer\",\n            value: 1,\n            minValue: 1,\n            maxValue: 10,\n            iterate: true,\n            interval: 1,\n            randomize: false,\n            displayText: \"Display Text\" //now that i think of it, should this be put inside a temp variable?\n          });\n        }\n      });\n      if (allBracketPositions.length < updatedVariables.size) {\n        while (allBracketPositions.length < updatedVariables.size) {\n          updatedVariables = deleteLatestVar(updatedVariables);\n          incomingHandleVariablesChanges(updatedVariables);\n          // console.log(incomingVariables.size);\n        }\n      } else incomingHandleVariablesChanges(updatedVariables);\n    }\n  }\n  function deleteLatestVar(updatedVariables) {\n    if (incomingVariables.size === 0) return;\n    const lastKey = Array.from(updatedVariables.keys()).pop();\n    if (lastKey !== undefined) {\n      updatedVariables.delete(lastKey);\n      console.log(\"Updated Var Deleted : \" + updatedVariables);\n      console.log(updatedVariables);\n      // setTempVariables(tempMap);\n      // incomingHandleVariablesChanges(updatedVariables);\n      return updatedVariables;\n    }\n    // console.log(\"pakeEko\");\n    // setTempVariables(incomingVariables);\n\n    // setTempVariables(tempVariables[tempVariables.size - 1);\n    // // console.log(updatedVariables);\n    // console.log(\"---------------\");\n    // incomingHandleVariablesChanges(setTempVariables);\n    // console.log(incomingVariables);\n  }\n\n  // useEffect(() => {\n  //   //delete variables\n  // }, [incomVarSize]);\n\n  // function enableEditing(element) {\n  //   if (!element) return;\n  //   element.setAttribute(\"contenteditable\", true);\n  //   element.focus();\n  // }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full h-full flex justify-center items-center\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        // contentEditable=\"true\"\n        className: \"placeholder-white placholder-opacity-50 w-full h-[100%] max-w-[80%] bg-white bg-opacity-10 text-center flex overflow-auto justify-center items-center cursor-text rounded-[10px] p-[10px] shadow-[0_10px_30px_rgba(0,0,0,0.35)] backdrop-blur-[6px] backdrop-saturate-[120%]  rounded-[18px]\" + tw_textInput_hover + tw_textInput_focus,\n        placeholder: \"Type Text here..\",\n        value: incomingPreviewText != null ? incomingPreviewText : null\n        // onClick={(e) => enableEditing(e.target)}\n        ,\n        onChange: e => addVariableOnInput(e),\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(TextInput, \"XgDGksITBk0AZXTs4ATeWGcjfGs=\");\n_c = TextInput;\nexport default TextInput;\n\n//  // contentEditable=\"true\"\n//     className={\n//       \" h-full bg-main-color place-content-center border border-opposite-color cursor-text rounded-[10px] border-solid\" +\n//       tw_textInput_hover +\n//       tw_textInput_focus +\n//       tw_textInput_md +\n//       tw_textInput_lg\n//     }\nvar _c;\n$RefreshReg$(_c, \"TextInput\");","map":{"version":3,"names":["useRef","useState","useEffect","use","css","jsxDEV","_jsxDEV","Fragment","_Fragment","TextInput","incomingPreviewText","incomingHandlePreviewTextChanges","incomingHandleVariablesChanges","incomingVariables","_s","tw_textInput_md","tw_textInput_lg","tw_textInput_focus","tw_textInput_hover","incomVarSize","undefined","size","tempVariables","setTempVariables","Map","addVariableOnInput","e","textInput","currentTarget","value","includes","searchPos","allBracketPositions","console","log","length","bracketPos","indexOf","push","updatedVariables","forEach","position","index","has","set","id","name","type","minValue","maxValue","iterate","interval","randomize","displayText","deleteLatestVar","lastKey","Array","from","keys","pop","delete","children","className","placeholder","onChange","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Elgratio/Documents/Learning/Front End - Web Dev/Projects/React App Test/my-app/src/components/text-input.js"],"sourcesContent":["import { useRef, useState, useEffect, use } from \"react\";\r\nimport css from \"./text-input.module.css\";\r\n\r\nfunction TextInput({\r\n  incomingPreviewText,\r\n  incomingHandlePreviewTextChanges,\r\n  incomingHandleVariablesChanges,\r\n  incomingVariables,\r\n}) {\r\n  //Tailwind Styles\r\n\r\n  //Text Input\r\n  let tw_textInput_md = \" md:w-[100%] md:p-[10px]\";\r\n  let tw_textInput_lg = \" lg:w-[50%]\";\r\n  let tw_textInput_focus =\r\n    \" \";\r\n  let tw_textInput_hover =\r\n    \" hover:shadow-[0_0_30px_rgba(100,100,100,0.35)] hover:text-main-color hover:border hover:border-main-color hover:border-solid\";\r\n  let incomVarSize =\r\n    incomingVariables != undefined ? incomingVariables.size : 0;\r\n\r\n  const [tempVariables, setTempVariables] = useState(new Map());\r\n\r\n  function addVariableOnInput(e) {\r\n    const textInput = e.currentTarget.value;\r\n    incomingHandlePreviewTextChanges(textInput);\r\n    // Search for {} in the text\r\n    if (textInput.includes(\"{}\") || incomVarSize != 0) {\r\n      let searchPos = 0;\r\n      let allBracketPositions = [];\r\n      console.log(\"bracket size before:\" + allBracketPositions.length);\r\n\r\n      while (searchPos < textInput.length) {\r\n        const bracketPos = textInput.indexOf(\"{}\", searchPos);\r\n        if (bracketPos === -1) break;\r\n        allBracketPositions.push(bracketPos + 1);\r\n        searchPos = bracketPos + 1;\r\n      }\r\n      let updatedVariables = new Map(incomingVariables);\r\n\r\n      allBracketPositions.forEach((position, index) => {\r\n        if (!updatedVariables.has(index)) {\r\n          updatedVariables.set(index, {\r\n            id: index,\r\n            name: \"Variable \" + (index + 1),\r\n            type: \"Integer\",\r\n            value: 1,\r\n            minValue: 1,\r\n            maxValue: 10,\r\n            iterate: true,\r\n            interval: 1,\r\n            randomize: false,\r\n            displayText: \"Display Text\", //now that i think of it, should this be put inside a temp variable?\r\n          });\r\n        }\r\n      });\r\n\r\n      if (allBracketPositions.length < updatedVariables.size) {\r\n        while (allBracketPositions.length < updatedVariables.size) {\r\n          updatedVariables = deleteLatestVar(updatedVariables);\r\n          incomingHandleVariablesChanges(updatedVariables);\r\n          // console.log(incomingVariables.size);\r\n        }\r\n      } else incomingHandleVariablesChanges(updatedVariables);\r\n    }\r\n  }\r\n\r\n  function deleteLatestVar(updatedVariables) {\r\n    if (incomingVariables.size === 0) return;\r\n\r\n    const lastKey = Array.from(updatedVariables.keys()).pop();\r\n    if (lastKey !== undefined) {\r\n      updatedVariables.delete(lastKey);\r\n      console.log(\"Updated Var Deleted : \" + updatedVariables);\r\n      console.log(updatedVariables);\r\n      // setTempVariables(tempMap);\r\n      // incomingHandleVariablesChanges(updatedVariables);\r\n      return updatedVariables;\r\n    }\r\n    // console.log(\"pakeEko\");\r\n    // setTempVariables(incomingVariables);\r\n\r\n    // setTempVariables(tempVariables[tempVariables.size - 1);\r\n    // // console.log(updatedVariables);\r\n    // console.log(\"---------------\");\r\n    // incomingHandleVariablesChanges(setTempVariables);\r\n    // console.log(incomingVariables);\r\n  }\r\n\r\n  // useEffect(() => {\r\n  //   //delete variables\r\n  // }, [incomVarSize]);\r\n\r\n  // function enableEditing(element) {\r\n  //   if (!element) return;\r\n  //   element.setAttribute(\"contenteditable\", true);\r\n  //   element.focus();\r\n  // }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"w-full h-full flex justify-center items-center\">\r\n        <input\r\n          // contentEditable=\"true\"\r\n          className={\r\n            \"placeholder-white placholder-opacity-50 w-full h-[100%] max-w-[80%] bg-white bg-opacity-10 text-center flex overflow-auto justify-center items-center cursor-text rounded-[10px] p-[10px] shadow-[0_10px_30px_rgba(0,0,0,0.35)] backdrop-blur-[6px] backdrop-saturate-[120%]  rounded-[18px]\" +\r\n            tw_textInput_hover +\r\n            tw_textInput_focus\r\n          }\r\n          placeholder=\"Type Text here..\"\r\n          value={\r\n            incomingPreviewText != null\r\n              ? incomingPreviewText\r\n              : null\r\n          }\r\n          // onClick={(e) => enableEditing(e.target)}\r\n          onChange={(e) => addVariableOnInput(e)}\r\n          type=\"text\"\r\n        ></input>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\nexport default TextInput;\r\n\r\n//  // contentEditable=\"true\"\r\n//     className={\r\n//       \" h-full bg-main-color place-content-center border border-opposite-color cursor-text rounded-[10px] border-solid\" +\r\n//       tw_textInput_hover +\r\n//       tw_textInput_focus +\r\n//       tw_textInput_md +\r\n//       tw_textInput_lg\r\n//     }\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}